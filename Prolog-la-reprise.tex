\documentclass[a4paper,12pt]{book}

%% \usepackage[T1]{fontenc}
%% \usepackage{gillius2}
%% \usepackage[utf8]{inputenc}
%% \usepackage[francais]{babel}
%% \usepackage{marginnote}
%% \usepackage{makeidx}
%% \usepackage{graphicx}



\usepackage[T1]{fontenc}
%% \usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage{lmodern}
\usepackage{CormorantGaramond}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
%%\usepackage{amsthm}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{url}
\usepackage{theorem}
\usepackage{textcomp}
\usepackage{listings}
\usepackage{hyperref}
\usepackage{parskip}

\title{Prolog, la reprise}
\author{Bernard Tatin}
\date{\today}

\newtheorem{defn}{Définition}
\newtheorem{thm}{Théorème}

\lstset{emph={%  
   {:-}%
     },emphstyle={\color{red}\bfseries\underbar}%
}%

\begin{document}

\maketitle
\tableofcontents

\chapter{les bases}

\section{le langage}
Commençons par quelque chose de simple:

\begin{lstlisting}[language=Prolog]
nat(X):-
	integer(X),
	X > -1.
\end{lstlisting}

A noter que la version suivante, plus \emph{naturelle}, provoque une erreur:

\begin{lstlisting}[language=Prolog]
nat(X):-
	integer(X),
	X >= 0.
\end{lstlisting}

Pour rappel, \texttt{,} est la \textit{conjonction} soit le \textit{et} logique, tandis que \texttt{;} indique \textit{disjonction}, soit le \textit{ou} logique.

\section{l'environnement \texttt{swipl}}

C'est simple à lancer: \texttt{swipl}. 

Pour profiter de répertoire contenant des bibliothèques personelle, il faut, autant pour la compilation que pour l'interprétation, rajouter le paramètre:
\begin{lstlisting}[language=sh] 
-p library=$(pwd)/lib:...
\end{lstlisting}
 
à moduler en fonction de la configuration.

Pour créer un binaire exécutable, il faut lancer la commande:
\begin{lstlisting}[language=sh]
swipl -p library=... \\
    --goal=main \\
    --stand_alone=true \\
    -o binary \\
    -c sourcefiles ...
\end{lstlisting}

Pour des exemples plus complets, consultez le(s) \texttt{Makefile}(s) des répertoires sources.

\section{LogTalk}
L'installation se déroule très bien sous réserve de petites modifications dans l'\texttt{adapter} de \emph{Yap}. La procédure \texttt{member} doit être préfixée par \texttt{lists:} et la fonction \texttt{term\_hash} doit être préfixée par \texttt{terms}. Et là, tout devient normal.
\end{document}